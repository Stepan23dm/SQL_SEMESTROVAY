drop table items cascade constraints;
drop table tovar_t cascade constraints;
drop table persons cascade constraints;
drop table orders cascade constraints;
drop table comp_orders cascade constraints;

CREATE TABLE items(
	ID INT NOT NULL primary key,
	NAME VARCHAR(20) NOT NULL,
	PRICE INT NOT NULL
);

INSERT INTO items
(ID,NAME,PRICE)
VALUES
(1, 'FLASH-CARD', 250)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(2, 'VIDEO-CARD', 89900)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(3, 'CPU', 56000)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(4, 'MEMORY', 3000)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(5, 'KEYBOARD', 5000)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(6, 'HDD', 3000)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(7, 'SSD', 4200)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(8, 'MONITOR', 22000)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(9, 'COLUMNS', 18000)
/
INSERT INTO items
(ID,NAME,PRICE)
VALUES
(10, 'POWER UNIT', 6000)
/

CREATE TABLE tovar_t(
	ID NUMBER(7) NOT NULL PRIMARY KEY, 
	NAME VARCHAR(10) NOT NULL,
	ARENDA INT NOT NULL
);

INSERT INTO tovar_t
(ID,NAME,ARENDA)
VALUES
(1, 'KIOSC', 24000)
/
INSERT INTO tovar_t
(ID,NAME,ARENDA)
VALUES
(2, 'MAGAZIN', 68000)
/
INSERT INTO tovar_t
(ID,NAME,ARENDA)
VALUES
(3, 'DISKAUNTER', 136000)
/

CREATE TABLE persons(
	ID NUMBER(7) NOT NULL PRIMARY KEY,
	NAME VARCHAR(20) NOT NULL,
	SALARY INT NOT NULL,
	T_ID INT NOT NULL,
	FOREIGN KEY (T_ID) REFERENCES tovar_t (ID) ON DELETE CASCADE
);

INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(1, 'Bashkeev S.D.', 1000000, 1)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(2, 'Nikitina K.A.', 50000, 3)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(3, 'Fedorov R.T.', 20000, 3)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(4, 'Antipov R.S.', 12000, 2)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(5, 'Smirnov U.Y.', 8000, 1)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(6, 'Nikitina K.A.', 15000, 3)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(7, 'Kyrpatov I.U.', 28000, 1)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(8, 'Dmitriev T.D.', 28000, 2)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(9, 'Semenov P.D.', 28000, 2)
/
INSERT INTO persons 
(ID, NAME, SALARY, T_ID)
VALUES
(10, 'Putin V.V.', 28000, 1)
/


CREATE TABLE orders(
	ID NUMBER(7) NOT NULL PRIMARY KEY,
	ID_ITEM INT NOT NULL,
	ID_T INT NOT NULL,
	CUSTOMER_NAME VARCHAR(25) NOT NULL,
	ID_P INT NOT NULL,
	FOREIGN KEY (ID_ITEM) REFERENCES items (ID) ON DELETE CASCADE,
	FOREIGN KEY (ID_T) REFERENCES tovar_t (ID) ON DELETE CASCADE,
	FOREIGN KEY (ID_P) REFERENCES persons (ID) ON DELETE CASCADE
);

INSERT INTO orders
(ID, ID_ITEM, ID_T, CUSTOMER_NAME, ID_P)
VALUES
(1, 1, 2, 'ADARKOV I.G.', 4)
/
INSERT INTO orders
(ID, ID_ITEM, ID_T, CUSTOMER_NAME, ID_P)
VALUES
(2, 4, 3, 'LOGINOV S.N.', 2)
/
INSERT INTO orders
(ID, ID_ITEM, ID_T, CUSTOMER_NAME, ID_P)
VALUES
(3, 3, 1, 'ABRAMOV S.Y.', 3)
/
INSERT INTO orders
(ID, ID_ITEM, ID_T, CUSTOMER_NAME, ID_P)
VALUES
(4, 1, 2, 'KARGINOV V.S.', 8)
/
INSERT INTO orders
(ID, ID_ITEM, ID_T, CUSTOMER_NAME, ID_P)
VALUES
(5, 2, 3, 'SHERBAKOV A.A.', 7)
/

CREATE TABLE comp_orders(
	ID NUMBER(7) NOT NULL PRIMARY KEY, 
	COMP_DATE DATE,
	FOREIGN KEY (ID) REFERENCES orders (ID) ON DELETE CASCADE
);

INSERT INTO comp_orders
(ID, COMP_DATE)
VALUES
(1, CAST('13-02-2020' AS DATE))
/
INSERT INTO comp_orders
(ID, COMP_DATE)
VALUES
(3, CAST('19-10-2021' AS DATE))
/
INSERT INTO comp_orders
(ID, COMP_DATE)
VALUES
(5, CAST('05-11-2021' AS DATE))
/

SELECT * FROM items;
SELECT * FROM tovar_t;
SELECT * FROM persons;
SELECT * FROM orders;
SELECT * FROM comp_orders;